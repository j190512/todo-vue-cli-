{"version":3,"sources":["webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?acde","webpack:///./src/views/login/login.vue"],"names":["login","data","testAccount","testPwd","temp","vif","flag","mounted","this","$refs","accountL","value","init","methods","pwd","localStorage","setItem","tempTodos","$store","state","todos","stringify_default","params","getItem","loginSuccess","$notify","content","register","registerSure","_this","accountR","setTimeout","backLogin","_this2","reg","inTest","e","target","id","account","$router","push","str","test","login_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","type","placeholder","autofocus","autocomplete","on","input","directives","name","rawName","expression","click","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.b31279e8604f947df493.js","sourcesContent":["<template>\n  <div class=\"wrap\">\n    <div class=\"content\">\n      <div v-if=\"vif\">\n        <h6 class=\"title\">登录</h6>\n        <div>\n          账号:\n          <input\n            type=\"text\"\n            placeholder=\"账号\"\n            id=\"ac\"\n            autofocus\n            ref=\"accountL\"\n            v-on:input=\"inTest\"\n            autocomplete=\"off\"\n          />\n          <span v-show=\"testAccount\">6位数字</span>\n        </div>\n        <div>\n          密码:\n          <input\n            type=\"text\"\n            placeholder=\"密码\"\n            id=\"pwd\"\n            ref=\"pwd\"\n            v-on:input=\"inTest\"\n            autocomplete=\"off\"\n          />\n          <span v-show=\"testPwd\">6位数字</span>\n        </div>\n        <div>\n          <button class=\"register\" @click=\"register\">注册</button>\n          <button class=\"login\" @click=\"login\">登录</button>\n        </div>\n      </div>\n\n      <div class=\"reg\" v-if=\"!vif\">\n        <transition name=\"fade\">\n          <div>\n            <h6 class=\"title\">注册</h6>\n            <div class=\"close\" @click=\"backLogin\">X</div>\n            <div>\n              新账号:\n              <input\n                type=\"text\"\n                placeholder=\"账号\"\n                id=\"ac\"\n                autofocus\n                ref=\"accountR\"\n                v-on:input=\"inTest\"\n                autocomplete=\"off\"\n              />\n              <span v-show=\"testAccount\">6位数字</span>\n            </div>\n            <div>\n              新密码:\n              <input\n                type=\"text\"\n                placeholder=\"密码\"\n                id=\"pwd\"\n                ref=\"pwd\"\n                v-on:input=\"inTest\"\n                autocomplete=\"off\"\n              />\n              <span v-show=\"testPwd\">6位数字</span>\n            </div>\n            <div>\n              <button class=\"sure\" @click=\"registerSure\">确定</button>\n            </div>\n          </div>\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      testAccount: false,\n      testPwd: false,\n      temp: 123456, //记录注册后的账号以便于在登录页显示\n      vif: true, //切换登录注册页\n      flag: true //定义生成初始账号的标志（一次\n    };\n  },\n  mounted() {\n    this.$refs.accountL.value = this.temp;\n    // localStorage.clear();\n    this.init();\n  },\n  methods: {\n    init() {\n      if (this.flag) {\n        this.$refs.pwd.value = \"654321\";\n        localStorage.setItem(this.temp, this.$refs.pwd.value);\n        // //第一次加载(自动创建的todo账号)就将todos缓存在本地\n        let tempTodos = this.$store.state.todos;\n        localStorage.setItem(`${this.temp}Todos`, JSON.stringify(tempTodos));\n      }\n    },\n    login() {\n      let params = {\n        account: this.$refs.accountL.value,\n        pwd: this.$refs.pwd.value\n      };\n      if (params.account == \"\" || params.pwd == \"\") {\n        this.$notify({ content: \"账号或密码不能为空\" });\n        return;\n      }\n      if (\n        localStorage.getItem(`${this.$refs.accountL.value}`) &&\n        localStorage.getItem(`${this.$refs.accountL.value}`) == params.pwd\n      ) {\n        this.loginSuccess(this.$refs.accountL.value);\n        return;\n      }\n      this.$notify({ content: \"账号或密码错误\" });\n      // this.$axios\n      // .get(`/api/user.json`, params)\n      // .then(res => {\n      //   console.log(res.status);\n      //   // 请求成功，判断账号密码是否正确\n      //   if (res.status == 200) {\n      //     let data = res.data;\n      //     for (let user of data) {\n      //       if (user.account == params.account && user.pwd == params.pwd) {\n      //         return;\n      //       }\n      //     }\n      //     this.$notify({ content: \"账号或密码错误\" });\n      //   } else {\n      //     this.$notify({ content: \"系统出错\" });\n      //   }\n      // })\n      // .catch(e => console.log(e));\n    },\n    register() {\n      this.testAccount = false;\n      this.testPwd = false;\n      this.vif = !this.vif;\n    },\n    registerSure() {\n      //账号或密码空\n      if (this.$refs.accountR.value == \"\" || this.$refs.pwd.value == \"\") {\n        this.$notify({ content: \"注册失败\" });\n        return;\n      }\n      //账号或密码不通过正则\n      if (this.testAccount || this.testPwd) {\n        this.$notify({ content: \"注册失败\" });\n        return;\n      }\n      if (localStorage.getItem(`${this.$refs.accountR.value}`)) {\n        this.$notify({ content: \"账号已存在\" });\n        return;\n      }\n      //存储本地账号密码\n      let pwd = this.$refs.pwd.value;\n      this.temp = this.$refs.accountR.value;\n      localStorage.setItem(`${this.$refs.accountR.value}`, pwd);\n      this.$notify({ content: \"注册成功\" });\n      //创建本地todos\n      if (!localStorage.getItem(`${this.temp}Todos`)) {\n        localStorage.setItem(`${this.temp}Todos`, JSON.stringify([]));\n      }\n      //延迟切换页面  等notify执行\n      setTimeout(() => {\n        this.vif = !this.vif;\n      }, 1500);\n      //v-if 渲染 会有一小段时间的延迟 这里让登录页的账号等于注册页的账号\n      setTimeout(() => {\n        if (this.$refs.accountL.value == \"\") {\n          this.$refs.accountL.value = this.temp;\n        }\n        // console.log(this.$refs.accountL)\n      }, 2000);\n    },\n    backLogin() {\n      this.vif = !this.vif;\n      setTimeout(() => {\n        this.$refs.accountL.value = this.temp;\n        this.testAccount = !this.reg(this.$refs.accountL.value) ? true : false;\n      }, 500);\n    },\n    inTest(e) {\n      if (e.target.id == \"ac\") {\n        this.testAccount = !this.reg(e.target.value) ? true : false;\n      } else if (e.target.id == \"pwd\") {\n        this.testPwd = !this.reg(e.target.value) ? true : false;\n      }\n    },\n    //登录成功\n    loginSuccess(account) {\n      this.$notify({ content: \"登录成功\" });\n      // this.$refs.pwd.value = \"\";\n      this.$router.push(`/app/${account}`);\n    },\n    reg(str) {\n      let patt = /^\\d{6}$/;\n      return patt.test(str);\n    }\n  }\n};\n</script>\n\n<style lang='stylus' scoped>\nh6\n  padding 0\n  margin 0\n.wrap\n  position relative\n  text-align center\n  height 200px\n  padding 10px 20px\n  .content\n    position absolute\n    width 350px\n    height 200px\n    left 50%\n    transform translate(-50%)\n    border-radius 10px\n    background-color #8FBE89\n    .title\n      position absolute\n      left 50%\n      transform translateX(-50%)\n      top 0\n    div\n      position relative\n      height 30px\n      font-size 20px\n      margin-top 10px\n      padding 10px\n      input\n        line-height 30px\n        width 190px\n        outline none\n        font-size 18px\n        border 1px solid black\n        border-radius 10px\n        padding-left 5px\n        margin-left 20px\n      button\n        width 60px\n        margin 0\n        padding 5px\n        border 1px solid black // 自定义边框\n        outline none\n        border-radius 10px\n        cursor pointer\n        &:hover\n          background rgb(200, 200, 200)\n      .register\n        float left\n        margin-left 100px\n      .login\n        float right\n        margin-right 36px\n      .sure\n        width 260px\n      span\n        position absolute\n        display block\n        font-size 10px\n        color red\n        bottom -8px\n        right 45px\n    .reg\n      position absolute\n      padding 0\n      margin 0\n      top 0px\n      width 100%\n      height 100%\n      border-radius 10px\n      background-color #749C6E\n      .close\n        padding 8px\n        position absolute\n        top -15px\n        right 5px\n        border 1px solid black\n        border-radius 50%\n        background-color #fff\n        color black\n        font-size 8px\n        height 8px\n        width 8px\n        line-height 8px\n        text-align center\n        cursor pointer\n        &:hover\n          background rgb(200, 200, 200)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"content\"},[(_vm.vif)?_c('div',[_c('h6',{staticClass:\"title\"},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n        账号:\\n        \"),_c('input',{ref:\"accountL\",attrs:{\"type\":\"text\",\"placeholder\":\"账号\",\"id\":\"ac\",\"autofocus\":\"\",\"autocomplete\":\"off\"},on:{\"input\":_vm.inTest}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testAccount),expression:\"testAccount\"}]},[_vm._v(\"6位数字\")])]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n        密码:\\n        \"),_c('input',{ref:\"pwd\",attrs:{\"type\":\"text\",\"placeholder\":\"密码\",\"id\":\"pwd\",\"autocomplete\":\"off\"},on:{\"input\":_vm.inTest}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testPwd),expression:\"testPwd\"}]},[_vm._v(\"6位数字\")])]),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"register\",on:{\"click\":_vm.register}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('button',{staticClass:\"login\",on:{\"click\":_vm.login}},[_vm._v(\"登录\")])])]):_vm._e(),_vm._v(\" \"),(!_vm.vif)?_c('div',{staticClass:\"reg\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',[_c('h6',{staticClass:\"title\"},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('div',{staticClass:\"close\",on:{\"click\":_vm.backLogin}},[_vm._v(\"X\")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n            新账号:\\n            \"),_c('input',{ref:\"accountR\",attrs:{\"type\":\"text\",\"placeholder\":\"账号\",\"id\":\"ac\",\"autofocus\":\"\",\"autocomplete\":\"off\"},on:{\"input\":_vm.inTest}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testAccount),expression:\"testAccount\"}]},[_vm._v(\"6位数字\")])]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n            新密码:\\n            \"),_c('input',{ref:\"pwd\",attrs:{\"type\":\"text\",\"placeholder\":\"密码\",\"id\":\"pwd\",\"autocomplete\":\"off\"},on:{\"input\":_vm.inTest}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testPwd),expression:\"testPwd\"}]},[_vm._v(\"6位数字\")])]),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"sure\",on:{\"click\":_vm.registerSure}},[_vm._v(\"确定\")])])])])],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-35665f4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35665f4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35665f4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35665f4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}